{{> matchHeader title=title page="Attendance" videoLink=videoLink hasTimestamps=hasTimestamps hideNav=hideNav}}

<div class="container">
    <h2>Attendance</h2>

    {{#each squad}}
    <h3 class="mt-3">{{name}}</h3>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 text-center">
        {{#each players}}
        <div>
            <div class="card mb-3" id="{{id}}">
                <div class="card-body">
                    <p class="fw-bold fs-5">{{firstName}} {{lastName}}</p>

                    <div class="alert alert-danger">This player is injured</div>
                    <div class="alert alert-danger">This player is not currently at the club</div>
                    <div class="alert alert-warning">This player has not been selected</div>

                    <div class="form-check">
                        <input class="form-check-input float-none" name="{{id}}" data-id="{{id}}" type="checkbox" value="" id="{{id}}-attended">
                        <label class="form-check-label" for="{{id}}-attended">
                           Present?
                        </label>
                    </div>
                </div>
            </div>
        </div>
        {{/each}}
    </div>
    {{/each}}

    <button class="btn btn-lg btn-primary my-3">Save</button>
</div>

<script>
    document.querySelectorAll("input[type=checkbox]").forEach(cb => {
        cb.addEventListener("change", () => {
            const card = document.getElementById(cb.dataset.id);
            if(cb.checked){
                card.classList.add("text-bg-success");
            } else {
                card.classList.remove("text-bg-success");
            }
        });
    });

    document.querySelectorAll(".card").forEach(card => {
        card.addEventListener("click", () => {
            const checkbox = card.querySelector("input[type=checkbox]");
            checkbox.click();
        })
    })
</script>